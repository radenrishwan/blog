---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/FormattedDate.astro";
import { Icon } from "astro-icon/components";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;

const calendarIcon = "calendar";
const hourglassIcon = "hourglass";
const atIcon = "at";

const liClass = "flex flex-row items-center gap-2 text-sm font-extralight";
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>
	<body>
		<Header />
		<main
			class="container mx-auto flex flex-col items-center gap-10 px-[20vw] py-10"
		>
			<article class="flex flex-col gap-5">
				<p class="text-2xl font-semibold">{title}</p>
				<ul class="flex flex-row gap-4">
					<li class={liClass}>
						<Icon name={calendarIcon} class="h-3 w-3 text-white" />
						<FormattedDate date={pubDate} />
						{
							updatedDate && (
								<div>
									Last updated on{" "}
									<FormattedDate date={updatedDate} />
								</div>
							)
						}
					</li>
					<li class={liClass}>
						<Icon name={hourglassIcon} class="h-3 w-3 fill-white" />
						3 Minutes time read
					</li>
				</ul>
				<p class={liClass}>
					<Icon name={atIcon} class="h-3 w-3 fill-white" /> Raden Mohamad
					Rishwan
				</p>
				{
					heroImage && (
						<img
							width={0}
							height={0}
							src={heroImage}
							alt=""
							class="h-auto w-full object-cover rounded-md"
						/>
					)
				}
				<slot class="prose" />
				<div class="flex flex-wrap gap-2">
					{
						[0, 1, 2, 3].map(() => (
							<div class="text-sm font-extralight text-gray-300 hover:bg-primary hover:text-primary">
								<p class="text-md">#Golang</p>
							</div>
						))
					}
				</div>
			</article>
		</main>
		<Footer />
	</body>
</html>
