---
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  description: string;
  technologies: string[];
  repositories: string;
  url: string;
  with_technologies: boolean;
}

const linkIcon = "share";
const githubIcon = "github";

const {
  title,
  description,
  technologies,
  url,
  repositories,
  with_technologies = false,
} = Astro.props;

const height = with_technologies ? "h-[200px]" : "h-[160px]";

---

<div
  class={`flex flex-col gap-4 justify-between rounded-md bg-slate-950 p-4 ${height}`}
>
  <div class="h-[120px]">
    <p class="text-md font-semibold line-clamp-1">{title}</p>
    <p class="text-md font-light line-clamp-2">
        {
            description === null ? "(no description)" : description
        }
    </p>
  </div>
  <div>
   {
    with_technologies &&  <ul class="flex flex-wrap justify-end gap-2 mb-3">
      {
        technologies.map((tech: string) => {
          return (
            <li class="flex flex-row rounded-md border-[2px] border-primary p-1 text-sm">
              {tech}
            </li>
          );
        })
      }
    </ul>
   }
    <div class="flex flex-row justify-between gap-2">
      <div
        class="text-md basis-1/2 rounded-md border-[2px] border-primary px-2 py-1 text-center"
      >
        <a
          href={url}
          class="flex cursor-pointer flex-row items-center justify-center gap-2"
        >
          <p>
            <Icon name={linkIcon} class="h-5 w-5 text-primary" />
          </p>
          <p>Visit Site</p>
        </a>
      </div>
      <div
        class="text-md basis-1/2 rounded-md bg-primary px-2 py-1 text-center text-white"
      >
        <a
          href={repositories}
          class="flex cursor-pointer flex-row items-center justify-center gap-2"
        >
          <p>
            <Icon name={githubIcon} class="h-5 w-5 text-white" />
          </p>
          <p>Github</p>
        </a>
      </div>
    </div>
  </div>
</div>
